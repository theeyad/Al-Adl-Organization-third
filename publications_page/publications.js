// Publications data
const publicationsData = [
  {
    id: "legal-consultation-guide",
    title: "دليل الاستشارات القانونية للمستثمرين",
    excerpt:
      "دليل شامل يوضح أهم النقاط القانونية التي يجب على المستثمرين مراعاتها عند تأسيس أعمالهم في المملكة العربية السعودية وجمهورية مصر العربية.",
    content: `
      <h2>مقدمة</h2>
      <p>تعتبر الاستشارات القانونية من أهم العوامل التي تساهم في نجاح أي مشروع استثماري. في هذا الدليل، سنستعرض أهم النقاط القانونية التي يجب على المستثمرين مراعاتها.</p>
      
      <h3>1. اختيار الشكل القانوني للمشروع</h3>
      <p>يجب على المستثمر اختيار الشكل القانوني المناسب لمشروعه، سواء كان:</p>
      <ul>
        <li>شركة ذات مسؤولية محدودة</li>
        <li>شركة مساهمة</li>
        <li>شركة تضامن</li>
        <li>مؤسسة فردية</li>
      </ul>
      
      <h3>2. التراخيص والتصاريح المطلوبة</h3>
      <p>يجب الحصول على جميع التراخيص والتصاريح المطلوبة قبل بدء النشاط التجاري، بما في ذلك:</p>
      <ul>
        <li>السجل التجاري</li>
        <li>الرخصة التجارية</li>
        <li>البطاقة الضريبية</li>
        <li>شهادة القيمة المضافة</li>
      </ul>
      
      <h3>3. العقود والاتفاقيات</h3>
      <p>يجب صياغة جميع العقود والاتفاقيات بدقة لضمان حماية حقوق جميع الأطراف وتجنب النزاعات المستقبلية.</p>
      
      <h3>الخلاصة</h3>
      <p>الاستشارة القانونية المبكرة تساعد في تجنب المشاكل القانونية وتضمن نجاح المشروع الاستثماري.</p>
    `,
    category: "استشارات قانونية",
    date: "2025-01-15",
    icon: "business_center",
  },
  {
    id: "real-estate-law-updates",
    title: "أحدث التعديلات في قانون العقارات",
    excerpt:
      "مراجعة شاملة لأحدث التعديلات في القوانين العقارية في المملكة العربية السعودية ومصر وتأثيرها على المستثمرين.",
    content: `
      <h2>التعديلات الجديدة في القانون العقاري</h2>
      <p>شهدت القوانين العقارية في المملكة العربية السعودية ومصر تطورات مهمة خلال العام الماضي، مما يؤثر على المستثمرين والمطورين العقاريين.</p>
      
      <h3>1. التعديلات في المملكة العربية السعودية</h3>
      <p>أصدرت المملكة العربية السعودية عدة تعديلات مهمة تشمل:</p>
      <ul>
        <li>تسهيل إجراءات تملك الأجانب للعقارات</li>
        <li>تطوير نظام الإفراغ الإلكتروني</li>
        <li>تحسين إجراءات التسجيل العقاري</li>
      </ul>
      
      <h3>2. التعديلات في جمهورية مصر العربية</h3>
      <p>شهدت مصر أيضاً تعديلات مهمة في القوانين العقارية:</p>
      <ul>
        <li>تطوير نظام الشهر العقاري الإلكتروني</li>
        <li>تسهيل إجراءات التقنين</li>
        <li>تحسين حماية حقوق المستثمرين</li>
      </ul>
      
      <h3>3. التأثير على المستثمرين</h3>
      <p>هذه التعديلات تؤثر بشكل إيجابي على المستثمرين من خلال:</p>
      <ul>
        <li>تسريع الإجراءات</li>
        <li>تحسين الشفافية</li>
        <li>حماية أفضل للحقوق</li>
      </ul>
      
      <h3>الخلاصة</h3>
      <p>يجب على المستثمرين متابعة هذه التعديلات والاستفادة منها في مشاريعهم العقارية.</p>
    `,
    category: "قانون العقارات",
    date: "2025-01-10",
    icon: "real_estate_agent",
  },
  {
    id: "corporate-governance",
    title: "أفضل ممارسات الحوكمة المؤسسية",
    excerpt:
      "دليل شامل لأفضل الممارسات في الحوكمة المؤسسية وكيفية تطبيقها في الشركات لضمان الشفافية والمساءلة.",
    content: `
      <h2>مقدمة في الحوكمة المؤسسية</h2>
      <p>الحوكمة المؤسسية هي مجموعة من القواعد والممارسات التي تحكم كيفية إدارة الشركات ومراقبتها، بهدف ضمان الشفافية والمساءلة وحماية حقوق المساهمين.</p>
      
      <h3>1. مبادئ الحوكمة الأساسية</h3>
      <ul>
        <li><strong>الشفافية:</strong> إتاحة المعلومات المالية والإدارية للمساهمين</li>
        <li><strong>المساءلة:</strong> تحمل الإدارة المسؤولية عن قراراتها</li>
        <li><strong>العدالة:</strong> معاملة جميع المساهمين بعدالة</li>
        <li><strong>الاستقلالية:</strong> استقلال مجلس الإدارة عن الإدارة التنفيذية</li>
      </ul>
      
      <h3>2. هيكل مجلس الإدارة</h3>
      <p>يجب أن يتكون مجلس الإدارة من:</p>
      <ul>
        <li>أعضاء تنفيذيين</li>
        <li>أعضاء مستقلين</li>
        <li>أعضاء غير تنفيذيين</li>
      </ul>
      
      <h3>3. اللجان المطلوبة</h3>
      <p>يجب تشكيل اللجان التالية:</p>
      <ul>
        <li>لجنة المراجعة</li>
        <li>لجنة الأجور والمكافآت</li>
        <li>لجنة الترشيحات</li>
        <li>لجنة المخاطر</li>
      </ul>
      
      <h3>4. التقارير المطلوبة</h3>
      <p>يجب إعداد التقارير التالية:</p>
      <ul>
        <li>تقرير الحوكمة السنوي</li>
        <li>تقرير المراجعة الداخلية</li>
        <li>تقرير المخاطر</li>
      </ul>
      
      <h3>الخلاصة</h3>
      <p>تطبيق مبادئ الحوكمة المؤسسية يساهم في تحسين أداء الشركات وزيادة ثقة المستثمرين.</p>
    `,
    category: "حوكمة مؤسسية",
    date: "2025-01-08",
    icon: "corporate_fare",
  },
  {
    id: "cyber-security-legal",
    title: "الأمن السيبراني من منظور قانوني",
    excerpt:
      "تحليل شامل للقوانين المتعلقة بالأمن السيبراني وحماية البيانات الشخصية في المملكة العربية السعودية ومصر.",
    content: `
      <h2>الأمن السيبراني في القانون</h2>
      <p>أصبح الأمن السيبراني من أهم المجالات القانونية في العصر الرقمي، حيث تزداد التهديدات السيبرانية يوماً بعد يوم.</p>
      
      <h3>1. القوانين المنظمة للأمن السيبراني</h3>
      <h4>في المملكة العربية السعودية:</h4>
      <ul>
        <li>نظام مكافحة الجرائم المعلوماتية</li>
        <li>نظام حماية البيانات الشخصية</li>
        <li>نظام الأمن السيبراني</li>
      </ul>
      
      <h4>في جمهورية مصر العربية:</h4>
      <ul>
        <li>قانون حماية البيانات الشخصية</li>
        <li>قانون مكافحة جرائم تقنية المعلومات</li>
        <li>اللائحة التنفيذية للأمن السيبراني</li>
      </ul>
      
      <h3>2. الالتزامات القانونية للشركات</h3>
      <p>يجب على الشركات الالتزام بما يلي:</p>
      <ul>
        <li>تطبيق معايير الأمن السيبراني</li>
        <li>حماية البيانات الشخصية</li>
        <li>الإبلاغ عن الحوادث السيبرانية</li>
        <li>تدريب الموظفين على الأمن السيبراني</li>
      </ul>
      
      <h3>3. العقوبات والجزاءات</h3>
      <p>تتضمن العقوبات على مخالفة قوانين الأمن السيبراني:</p>
      <ul>
        <li>غرامات مالية</li>
        <li>إيقاف النشاط</li>
        <li>سحب التراخيص</li>
        <li>عقوبات جنائية</li>
      </ul>
      
      <h3>4. أفضل الممارسات</h3>
      <ul>
        <li>تطبيق معايير الأمن الدولية</li>
        <li>إجراء تدقيق دوري للأمن</li>
        <li>وضع خطة للاستجابة للحوادث</li>
        <li>التأمين السيبراني</li>
      </ul>
      
      <h3>الخلاصة</h3>
      <p>يجب على الشركات الاستثمار في الأمن السيبراني والالتزام بالقوانين المنظمة لتجنب العقوبات وحماية بيانات العملاء.</p>
    `,
    category: "أمن سيبراني",
    date: "2025-01-05",
    icon: "security",
  },
  {
    id: "labor-law-changes",
    title: "التعديلات الجديدة في قانون العمل",
    excerpt:
      "مراجعة شاملة لأحدث التعديلات في قوانين العمل في المملكة العربية السعودية ومصر وتأثيرها على أصحاب العمل والموظفين.",
    content: `
      <h2>التعديلات في قانون العمل</h2>
      <p>شهدت قوانين العمل في المملكة العربية السعودية ومصر تطورات مهمة تهدف إلى تحسين بيئة العمل وحماية حقوق العمال.</p>
      
      <h3>1. التعديلات في المملكة العربية السعودية</h3>
      <h4>نظام العمل الجديد:</h4>
      <ul>
        <li>تطوير نظام العمل المرن</li>
        <li>تحسين إجراءات تسوية النزاعات العمالية</li>
        <li>تطوير نظام التأمين الاجتماعي</li>
        <li>حماية أفضل للعمالة الوافدة</li>
      </ul>
      
      <h3>2. التعديلات في جمهورية مصر العربية</h3>
      <h4>قانون العمل الموحد:</h4>
      <ul>
        <li>توحيد قوانين العمل</li>
        <li>تحسين نظام الأجور</li>
        <li>تطوير نظام التأمينات الاجتماعية</li>
        <li>حماية حقوق المرأة العاملة</li>
      </ul>
      
      <h3>3. حقوق العمال الجديدة</h3>
      <ul>
        <li>حق العمل عن بُعد</li>
        <li>تحسين إجازة الأمومة</li>
        <li>حق التدريب والتطوير</li>
        <li>حماية من التمييز</li>
      </ul>
      
      <h3>4. التزامات أصحاب العمل</h3>
      <ul>
        <li>توفير بيئة عمل آمنة</li>
        <li>تدريب العمال على السلامة</li>
        <li>تطبيق معايير الأجور</li>
        <li>توفير التأمين الاجتماعي</li>
      </ul>
      
      <h3>5. آليات تسوية النزاعات</h3>
      <ul>
        <li>اللجان العمالية المتخصصة</li>
        <li>التحكيم العمالي</li>
        <li>المحاكم العمالية</li>
        <li>الوساطة العمالية</li>
      </ul>
      
      <h3>الخلاصة</h3>
      <p>هذه التعديلات تهدف إلى تحسين بيئة العمل وضمان حقوق جميع الأطراف في العلاقة العمالية.</p>
    `,
    category: "قانون العمل",
    date: "2025-01-03",
    icon: "work",
  },
  {
    id: "intellectual-property-protection",
    title: "حماية الملكية الفكرية في العصر الرقمي",
    excerpt:
      "دليل شامل لحماية حقوق الملكية الفكرية في العصر الرقمي، بما في ذلك العلامات التجارية وبراءات الاختراع وحقوق المؤلف.",
    content: `
      <h2>الملكية الفكرية في العصر الرقمي</h2>
      <p>أصبحت حماية الملكية الفكرية من أهم التحديات في العصر الرقمي، حيث تزداد انتهاكات حقوق الملكية الفكرية عبر الإنترنت.</p>
      
      <h3>1. أنواع الملكية الفكرية</h3>
      <h4>العلامات التجارية:</h4>
      <ul>
        <li>تسجيل العلامة التجارية</li>
        <li>حماية العلامة من التقليد</li>
        <li>تجديد تسجيل العلامة</li>
        <li>الترخيص التجاري</li>
      </ul>
      
      <h4>براءات الاختراع:</h4>
      <ul>
        <li>شروط الحصول على براءة الاختراع</li>
        <li>إجراءات التسجيل</li>
        <li>حماية الاختراع من الانتهاك</li>
        <li>الترخيص التكنولوجي</li>
      </ul>
      
      <h4>حقوق المؤلف:</h4>
      <ul>
        <li>حماية المصنفات الأدبية والفنية</li>
        <li>حقوق المؤلف المالية والأدبية</li>
        <li>الترخيص والتنازل</li>
        <li>الحماية من القرصنة</li>
      </ul>
      
      <h3>2. التحديات في العصر الرقمي</h3>
      <ul>
        <li>القرصنة الرقمية</li>
        <li>انتهاك حقوق المؤلف عبر الإنترنت</li>
        <li>استخدام العلامات التجارية دون إذن</li>
        <li>سرقة الأفكار والابتكارات</li>
      </ul>
      
      <h3>3. آليات الحماية</h3>
      <ul>
        <li>التسجيل الرسمي</li>
        <li>المراقبة الرقمية</li>
        <li>الإجراءات القانونية</li>
        <li>التعاون الدولي</li>
      </ul>
      
      <h3>4. أفضل الممارسات</h3>
      <ul>
        <li>تسجيل جميع حقوق الملكية الفكرية</li>
        <li>وضع سياسات حماية واضحة</li>
        <li>تدريب الموظفين</li>
        <li>المراقبة المستمرة</li>
      </ul>
      
      <h3>الخلاصة</h3>
      <p>حماية الملكية الفكرية تتطلب استراتيجية شاملة تشمل التسجيل والمراقبة والإجراءات القانونية.</p>
    `,
    category: "ملكية فكرية",
    date: "2025-01-01",
    icon: "lightbulb",
  },
];

// Function to generate publication cards dynamically
function generatePublicationCards() {
  const publicationsGrid = document.querySelector(".publications-grid");
  if (!publicationsGrid) return;

  // Clear existing content
  publicationsGrid.innerHTML = "";

  // Generate publication cards for each publication
  publicationsData.forEach((publication) => {
    const publicationCard = document.createElement("div");
    publicationCard.className = "publication-card";
    publicationCard.id = `publication-${publication.id}`;
    publicationCard.innerHTML = `
      <div class="publication-content">
        <div class="publication-icon-container">
          <span class="material-symbols-outlined publication-icon">${publication.icon}</span>
        </div>
        <h3 class="publication-title">${publication.title}</h3>
        <p class="publication-excerpt">${publication.excerpt}</p>
        <a href="#" class="read-more-link" data-publication="${publication.id}">
          اقرأ المزيد
          <span class="material-symbols-outlined arrow-icon">arrow_back</span>
        </a>
      </div>
    `;

    publicationsGrid.appendChild(publicationCard);
  });
}

// Function to open publication modal
function openPublicationModal(publicationId) {
  const publication = publicationsData.find((p) => p.id === publicationId);
  if (!publication) return;

  const modal = document.getElementById("publication-modal");
  const modalTitle = document.getElementById("modal-title");
  const modalContent = document.getElementById("modal-content");

  // Populate modal content
  modalTitle.textContent = publication.title;
  modalContent.innerHTML = publication.content;

  // Show modal
  modal.classList.add("show");
  document.body.style.overflow = "hidden";
}

// Function to close publication modal
function closePublicationModal() {
  const modal = document.getElementById("publication-modal");
  modal.classList.remove("show");
  document.body.style.overflow = "auto";
}

document.addEventListener("DOMContentLoaded", function () {
  // Generate publication cards dynamically
  generatePublicationCards();

  // Handle opening publication modal
  document.querySelectorAll(".read-more-link").forEach((link) => {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      const publicationId = this.getAttribute("data-publication");
      if (publicationId) {
        openPublicationModal(publicationId);
      }
    });
  });

  // Handle closing modal
  const modal = document.getElementById("publication-modal");
  const closeButton = document.querySelector(".modal-close");

  if (closeButton) {
    closeButton.addEventListener("click", closePublicationModal);
  }

  // Close modal when clicking outside
  if (modal) {
    modal.addEventListener("click", function (e) {
      if (e.target === modal) {
        closePublicationModal();
      }
    });
  }

  // Close modal with Escape key
  document.addEventListener("keydown", function (e) {
    if (e.key === "Escape" && modal.classList.contains("show")) {
      closePublicationModal();
    }
  });

  // Publication card hover animations
  const publicationCards = document.querySelectorAll(".publication-card");
  publicationCards.forEach((card) => {
    card.addEventListener("mouseenter", function () {
      this.style.transform = "translateY(-0.25rem)";
      this.style.boxShadow = "0 10px 15px -3px rgba(0, 0, 0, 0.1)";
    });

    card.addEventListener("mouseleave", function () {
      this.style.transform = "translateY(0)";
      this.style.boxShadow = "0 1px 3px rgba(0, 0, 0, 0.1)";
    });
  });

  // Read more links hover effect
  const readMoreLinks = document.querySelectorAll(".read-more-link");
  readMoreLinks.forEach((link) => {
    link.addEventListener("mouseenter", function () {
      const arrow = this.querySelector(".arrow-icon");
      if (document.dir === "rtl") {
        arrow.style.transform = "translateX(-0.25rem)";
      } else {
        arrow.style.transform = "translateX(0.25rem)";
      }
    });

    link.addEventListener("mouseleave", function () {
      const arrow = this.querySelector(".arrow-icon");
      arrow.style.transform = "translateX(0)";
    });
  });
});
