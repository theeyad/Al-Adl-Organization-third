 <p class="text-sm text-gray-300 leading-relaxed italic mb-4 mx-16">
<!doctype html>
<html lang="ar" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>نظام إدارة المكتب القانوني</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
        /* Custom Theme: Only Four Colors */
        :root {
            --color-bg: #000000;
            --color-header-bg: #000000;
            --color-footer-bg: #000000;
            --color-primary: #f3c623;
            --color-primary-sec: #ffdf6d;
            --color-secondary: #ffffff;
            --color-secondary-links: #ffffff;
            --color-icons: #ffffff;
            --color-icons-bg: #000000;
            --color-black: #000000;
            --shadows: 0px 0px 15px 1px #f3c623;
            --transition-duration: 0.2s;
            --padding-right-left: 1.5em;
        }
        body {
            box-sizing: border-box;
            background-color: var(--color-bg);
            color: var(--color-secondary);
        }
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        * {
            font-family: 'Cairo', sans-serif;
        }
        .gold-gradient {
            background: linear-gradient(135deg, #f3c623 0%, #ffdf6d 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0px 0px 15px 1px #f3c623;
        }
        .nav-item {
            transition: all 0.3s ease;
        }
        .nav-item:hover {
            background: #ffdf6d;
            border-right: 3px solid #f3c623;
        }
        .nav-item.active {
            background: #f3c623;
            border-right: 3px solid #ffdf6d;
        }
        .table-row {
            transition: background 0.2s ease;
        }
        .table-row:hover {
            background: #ffdf6d;
        }
        .loading-spinner {
            border: 3px solid #ffdf6d;
            border-top: 3px solid #f3c623;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .modal-backdrop {
            background: #000000;
            backdrop-filter: blur(5px);
        }
        .delete-confirm {
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="bg-gray-900 text-gray-100"><!-- Sidebar -->
    <div class="fixed right-0 top-0 h-full w-64" style="background-color:#000000;box-shadow:0px 0px 15px 1px #f3c623;z-index:50;">
   <div class="p-6 border-b border-gray-700">
    <h1 id="firm-name" class="text-2xl font-bold bg-clip-text" style="color:#f3c623;">مؤسسة العدل</h1>
    <p class="text-sm" style="color:#ffffff;margin-top:0.25rem;">نظام الإدارة المتكامل</p>
   </div>
   <nav class="mt-6"><a href="#" class="nav-item active flex items-center px-6 py-4 text-gray-200" data-page="home"> <i class="fas fa-home ml-3 text-xl text-yellow-500"></i> <span class="font-semibold">الصفحة الرئيسية</span> </a> <a href="#" class="nav-item flex items-center px-6 py-4 text-gray-200" data-page="services"> <i class="fas fa-briefcase ml-3 text-xl text-yellow-500"></i> <span class="font-semibold">الخدمات</span> </a> <a href="#" class="nav-item flex items-center px-6 py-4 text-gray-200" data-page="posts"> <i class="fas fa-newspaper ml-3 text-xl text-yellow-500"></i> <span class="font-semibold">المنشورات</span> </a> <a href="#" class="nav-item flex items-center px-6 py-4 text-gray-200" data-page="cases"> <i class="fas fa-gavel ml-3 text-xl text-yellow-500"></i> <span class="font-semibold">جدول القضايا</span> </a>
    <!-- ...existing code... -->
   </nav>
   <div class="absolute bottom-0 w-full p-6 border-t border-gray-700">
    <div class="flex items-center">
     <div class="w-10 h-10 rounded-full gold-gradient flex items-center justify-center"><i class="fas fa-user" style="color:#000000;"></i>
     </div>
     <div class="mr-3">
    <p class="text-sm font-semibold" style="color:#ffffff;">أحمد الغباشي</p>
    <p class="text-xs" style="color:#ffffff;">mwsstaldl@gmail.com</p>
     </div>
    </div>
   </div>
  </div><!-- Main Content -->
  <div class="mr-64 min-h-full"><!-- Top Bar -->
    <div style="background-color:#000000;box-shadow:0px 0px 15px 1px #f3c623;padding:1rem;border-bottom:1px solid #ffdf6d;">
    <div class="flex items-center justify-between">
     <div class="flex items-center gap-4 flex-1">
    <div class="relative flex-1 max-w-md"><input type="text" placeholder="بحث في القضايا والعملاء..." style="width:100%;background-color:#000000;color:#ffffff;border-radius:0.5rem;padding:0.5rem 2.5rem 0.5rem 1rem;outline:none;border:1px solid #f3c623;" > <i class="fas fa-search absolute right-3 top-3" style="color:#f3c623;"></i>
    </div>
    <div id="quote-container" class="hidden lg:block" style="background-color:#000000;padding:0.5rem 1rem;border-radius:0.5rem;border-right:4px solid #f3c623;">
     <p id="quote-text" class="text-sm italic" style="color:#ffffff;">العدل أساس الملك</p>
    </div>
     </div>
     <div class="flex items-center gap-4">
    <div id="clock" style="color:#f3c623;font-weight:600;"></div><button id="theme-toggle" onclick="toggleTheme()" style="padding:0.5rem;border-radius:0.5rem;background-color:#000000;transition:0.2s;" title="تبديل الوضع"> <i id="theme-icon" class="fas fa-sun text-xl" style="color:#f3c623;"></i> </button>
     </div>
    </div>
   </div><!-- Page Content -->
   <div class="p-6"><!-- Home Page -->
    <div id="home-page" class="page-content"><!-- Stats Header 1 -->
     <div class="mb-6">
      <div class="flex items-center justify-between mb-4">
       <h2 class="text-xl font-bold text-yellow-500">ما نقوم به</h2><button onclick="showAddCardModal('home', 'header1')" class="px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-sm font-semibold transition"> <i class="fas fa-plus ml-2"></i>إضافة بطاقة </button>
      </div>
      <div id="home-header1-cards" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
     </div><!-- Service Cards Section -->
     <div class="mb-6">
      <div id="service-cards-section" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
     </div><!-- Stats Header 2 -->
     <div class="mb-6">
      <div class="flex items-center justify-between mb-4">
       <h2 class="text-xl font-bold text-yellow-500">أحدث المنشورات</h2><button onclick="showAddCardModal('home', 'header2')" class="px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-sm font-semibold transition"> <i class="fas fa-plus ml-2"></i>إضافة بطاقة </button>
      </div>
      <div id="home-header2-cards" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div><!-- Static Posts Cards -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
       <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
        <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
        </div>
        <div class="w-16 h-16 rounded-full bg-yellow-600 flex items-center justify-center mb-4 mx-auto"><i class="fas fa-gavel text-2xl text-gray-900"></i>
        </div>
        <h3 class="text-xl font-bold text-yellow-500 mb-3 text-center">قانون العمل الجديد</h3>
        <p class="text-sm text-gray-300 text-center leading-relaxed">تعرف على أحدث التعديلات في قانون العمل وكيفية تطبيقها في بيئة العمل الحديثة لضمان حقوق العاملين وأصحاب الأعمال.</p>
       </div>
       <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
        <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
        </div>
        <div class="w-16 h-16 rounded-full bg-yellow-600 flex items-center justify-center mb-4 mx-auto"><i class="fas fa-file-contract text-2xl text-gray-900"></i>
        </div>
        <h3 class="text-xl font-bold text-yellow-500 mb-3 text-center">أهمية العقود التجارية</h3>
        <p class="text-sm text-gray-300 text-center leading-relaxed">العقود التجارية هي الأساس القانوني لأي علاقة تجارية ناجحة. تعلم كيفية صياغة عقود محكمة تحمي مصالحك التجارية.</p>
       </div>
       <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
        <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
        </div>
        <div class="w-16 h-16 rounded-full bg-yellow-600 flex items-center justify-center mb-4 mx-auto"><i class="fas fa-shield-alt text-2xl text-gray-900"></i>
        </div>
        <h3 class="text-xl font-bold text-yellow-500 mb-3 text-center">حماية الملكية الفكرية</h3>
        <p class="text-sm text-gray-300 text-center leading-relaxed">احمِ أفكارك وابتكاراتك من خلال فهم قوانين الملكية الفكرية وكيفية تسجيل براءات الاختراع والعلامات التجارية.</p>
       </div>
      </div>
     </div><!-- Stats Header 3 -->
     <div class="mb-6">
      <div class="flex items-center justify-between mb-4">
       <h2 class="text-xl font-bold text-yellow-500">آراء عملائنا</h2><button onclick="showAddCardModal('home', 'header3')" class="px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-sm font-semibold transition"> <i class="fas fa-plus ml-2"></i>إضافة بطاقة </button>
      </div>
      <div id="home-header3-cards" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div><!-- Static Testimonials Cards -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
       <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
        <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
        </div>
        <p class="text-sm text-gray-300 leading-relaxed italic mb-4 mx-16">"لقد ساعدوني كثيراً بخبرتهم الواسعة. كانوا متعاونين للغاية وقدموا لي أفضل الحلول القانونية لشركتي."</p>
        <h4 class="font-bold text-yellow-500 text-center">أحمد السعيد</h4>
       </div>
       <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
        <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
        </div>
        <p class="text-sm text-gray-300 leading-relaxed italic mb-4 mx-16">"تجربة ممتازة! شكراً على مجهودكم الرائع في مساعدتي بإجراءات الاستثمار والإقامة."</p>
        <h4 class="font-bold text-yellow-500 text-center">فاطمة حسن</h4>
       </div>
       <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
        <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
        </div>
        <p class="text-sm text-gray-300 leading-relaxed italic mb-4 mx-16">"خدمات ممتازة واهتمام بالتفاصيل. أنصح بهم بشدة لأي شخص يحتاج استشارات قانونية صناعية."</p>
        <h4 class="font-bold text-yellow-500 text-center">محمود عبدالله</h4>
       </div>
      </div>
     </div>
    </div><!-- Services Page -->
    <div id="services-page" class="page-content hidden">
     <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-bold text-yellow-500">الخدمات القانونية</h2><button onclick="showAddCardModal('services', 'main')" class="px-6 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold transition"> <i class="fas fa-plus ml-2"></i>إضافة خدمة جديدة </button>
     </div>
     <div id="services-cards" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div><!-- Static Service Card -->
     <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
      <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
       <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
       </div>
       <div class="w-16 h-16 rounded-full bg-yellow-600 flex items-center justify-center mb-4 mx-auto"><i class="fas fa-balance-scale text-2xl text-gray-900"></i>
       </div>
       <h3 class="text-xl font-bold text-yellow-500 mb-3 text-center">التمثيل القانوني الكامل</h3>
       <p class="text-sm text-gray-300 text-center leading-relaxed">نؤمن أن الدفاع عن حقوقك لا يقتصر على تقديم الاستشارات فقط، بل يمتد إلى تمثيلك القانوني الكامل</p>
      </div>
     </div>
    </div><!-- Posts Page -->
    <div id="posts-page" class="page-content hidden">
     <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-bold text-yellow-500">المنشورات والأخبار</h2><button onclick="showAddCardModal('posts', 'main')" class="px-6 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold transition"> <i class="fas fa-plus ml-2"></i>إضافة منشور جديد </button>
     </div>
     <div id="posts-cards" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div><!-- Static Post Card -->
     <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
      <div class="bg-gray-800 rounded-2xl shadow-xl p-6 card-hover border border-gray-700 relative">
       <div class="absolute top-4 left-4 flex gap-2"><button class="w-8 h-8 bg-yellow-600 hover:bg-yellow-700 rounded-lg transition flex items-center justify-center shadow-md" title="تعديل"> <i class="fas fa-edit text-sm text-gray-900"></i> </button> <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف"> <i class="fas fa-trash text-sm text-white"></i> </button>
       </div>
       <div class="w-16 h-16 rounded-full bg-yellow-600 flex items-center justify-center mb-4 mx-auto"><i class="fas fa-book text-2xl text-gray-900"></i>
       </div>
       <h3 class="text-xl font-bold text-yellow-500 mb-3 text-center">دليل الاستشارات القانونية للمستثمرين</h3>
       <p class="text-sm text-gray-300 text-center leading-relaxed">تعتبر الاستشارات القانونية من أهم العوامل التي تساهم في نجاح أي مشروع استثماري. في هذا الدليل، سنستعرض أهم النقاط القانونية التي يجب على المستثمرين مراعاتها.</p>
      </div>
     </div>
    </div><!-- Cases Page -->
    <div id="cases-page" class="page-content hidden">
     <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-bold text-yellow-500">جدول القضايا</h2>
     </div>
     <div id="cases-table-container"></div>
    </div>
   </div>
  </div><!-- Add Card Modal -->
  <div id="add-card-modal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50">
   <div class="bg-gray-800 rounded-lg shadow-2xl p-6 max-w-md w-full mx-4 border border-gray-700">
    <h3 class="text-xl font-bold text-yellow-500 mb-4">إضافة بطاقة جديدة</h3>
    <form id="add-card-form" onsubmit="handleAddCard(event)">
     <div class="mb-4"><label class="block text-sm font-semibold mb-2">العنوان</label> <input type="text" id="card-title" required class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500">
     </div>
     <div class="mb-4"><label class="block text-sm font-semibold mb-2">الوصف</label> <textarea id="card-description" required class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500" rows="3"></textarea>
     </div>
     <div class="mb-4"><label class="block text-sm font-semibold mb-2">الأيقونة (Font Awesome)</label> <input type="text" id="card-icon" placeholder="fa-gavel" required class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500">
     </div>
     <div class="mb-6"><label class="block text-sm font-semibold mb-2">القيمة (اختياري)</label> <input type="text" id="card-value" placeholder="150" class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500">
     </div>
     <div class="flex gap-3"><button type="submit" id="submit-card-btn" class="flex-1 px-6 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold transition"> إضافة </button> <button type="button" onclick="closeAddCardModal()" class="flex-1 px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition"> إلغاء </button>
     </div>
    </form>
   </div>
  </div><!-- Edit Card Modal -->
  <div id="edit-card-modal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50">
   <div class="bg-gray-800 rounded-lg shadow-2xl p-6 max-w-md w-full mx-4 border border-gray-700">
    <h3 class="text-xl font-bold text-yellow-500 mb-4">تعديل البطاقة</h3>
    <form id="edit-card-form" onsubmit="handleEditCard(event)"><input type="hidden" id="edit-card-id">
     <div class="mb-4"><label class="block text-sm font-semibold mb-2">العنوان</label> <input type="text" id="edit-card-title" required class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500">
     </div>
     <div class="mb-4"><label class="block text-sm font-semibold mb-2">الوصف</label> <textarea id="edit-card-description" required class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500" rows="3"></textarea>
     </div>
     <div class="mb-4"><label class="block text-sm font-semibold mb-2">الأيقونة (Font Awesome)</label> <input type="text" id="edit-card-icon" required class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500">
     </div>
     <div class="mb-6"><label class="block text-sm font-semibold mb-2">القيمة (اختياري)</label> <input type="text" id="edit-card-value" class="w-full bg-gray-700 text-gray-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500">
     </div>
     <div class="flex gap-3"><button type="submit" id="update-card-btn" class="flex-1 px-6 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold transition"> حفظ التغييرات </button> <button type="button" onclick="closeEditCardModal()" class="flex-1 px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition"> إلغاء </button>
     </div>
    </form>
   </div>
  </div>
  <script>
        const defaultConfig = {
            firm_name: 'مكتب المحاماة',
            quote_text: 'العدل أساس الملك',
            add_case_button: '+ إضافة قضية جديدة',
            export_button: 'تصدير Excel',
            background_color: '#111827',
            surface_color: '#1f2937',
            text_color: '#f3f4f6',
            primary_action_color: '#d97706',
            secondary_action_color: '#059669',
            font_family: 'Cairo',
            font_size: 16
        };

        let allCards = [];
        let currentPage = 'home';
        let currentModalPage = '';
        let currentModalSection = '';
        let isDarkMode = true;

        // Theme Toggle
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            const themeIcon = document.getElementById('theme-icon');
            
            if (isDarkMode) {
                themeIcon.className = 'fas fa-sun text-xl text-yellow-500';
                document.body.style.backgroundColor = '#111827';
                document.querySelectorAll('.bg-gray-900').forEach(el => el.style.backgroundColor = '#111827');
                document.querySelectorAll('.bg-gray-800').forEach(el => el.style.backgroundColor = '#1f2937');
                document.querySelectorAll('.bg-gray-700').forEach(el => el.style.backgroundColor = '#374151');
                document.body.style.color = '#f3f4f6';
            } else {
                themeIcon.className = 'fas fa-moon text-xl text-yellow-500';
                document.body.style.backgroundColor = '#f3f4f6';
                document.querySelectorAll('.bg-gray-900').forEach(el => el.style.backgroundColor = '#f3f4f6');
                document.querySelectorAll('.bg-gray-800').forEach(el => el.style.backgroundColor = '#ffffff');
                document.querySelectorAll('.bg-gray-700').forEach(el => el.style.backgroundColor = '#e5e7eb');
                document.body.style.color = '#1f2937';
            }
            
            renderCards();
            renderCasesTable();
            renderServiceCards();
        }

        // Clock
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('clock').textContent = timeString;
        }
        updateClock();
        setInterval(updateClock, 1000);

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const page = item.dataset.page;
                switchPage(page);
            });
        });

        function switchPage(page) {
            currentPage = page;
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-page="${page}"]`).classList.add('active');
            
            document.querySelectorAll('.page-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(`${page}-page`).classList.remove('hidden');
        }

        // Modal Functions
        function showAddCardModal(page, section) {
            currentModalPage = page;
            currentModalSection = section;
            document.getElementById('add-card-modal').classList.remove('hidden');
            document.getElementById('add-card-modal').classList.add('flex');
            document.getElementById('add-card-form').reset();
        }

        function closeAddCardModal() {
            document.getElementById('add-card-modal').classList.add('hidden');
            document.getElementById('add-card-modal').classList.remove('flex');
        }

        function showEditCardModal(card) {
            document.getElementById('edit-card-id').value = card.__backendId;
            document.getElementById('edit-card-title').value = card.title;
            document.getElementById('edit-card-description').value = card.description;
            document.getElementById('edit-card-icon').value = card.icon;
            document.getElementById('edit-card-value').value = card.value || '';
            document.getElementById('edit-card-modal').classList.remove('hidden');
            document.getElementById('edit-card-modal').classList.add('flex');
        }

        function closeEditCardModal() {
            document.getElementById('edit-card-modal').classList.add('hidden');
            document.getElementById('edit-card-modal').classList.remove('flex');
        }

        async function handleAddCard(event) {
            event.preventDefault();
            
            const submitBtn = document.getElementById('submit-card-btn');
            const originalText = submitBtn.textContent;
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<div class="loading-spinner mx-auto"></div>';

            if (allCards.length >= 999) {
                showToast('تم الوصول للحد الأقصى (999 بطاقة). يرجى حذف بعض البطاقات أولاً.', 'error');
                submitBtn.disabled = false;
                submitBtn.textContent = originalText;
                return;
            }

            const title = document.getElementById('card-title').value;
            const description = document.getElementById('card-description').value;
            const icon = document.getElementById('card-icon').value;
            const value = document.getElementById('card-value').value;

            const newCard = {
                id: Date.now().toString(),
                type: currentModalSection,
                title: title,
                description: description,
                icon: icon,
                value: value,
                page: currentModalPage,
                order: allCards.filter(c => c.page === currentModalPage && c.type === currentModalSection).length,
                createdAt: new Date().toISOString()
            };

            const result = await window.dataSdk.create(newCard);
            
            if (result.isOk) {
                closeAddCardModal();
                showToast('تم إضافة البطاقة بنجاح', 'success');
            } else {
                showToast('حدث خطأ أثناء إضافة البطاقة', 'error');
            }
            
            submitBtn.disabled = false;
            submitBtn.textContent = originalText;
        }

        async function handleEditCard(event) {
            event.preventDefault();
            
            const updateBtn = document.getElementById('update-card-btn');
            const originalText = updateBtn.textContent;
            updateBtn.disabled = true;
            updateBtn.innerHTML = '<div class="loading-spinner mx-auto"></div>';

            const cardId = document.getElementById('edit-card-id').value;
            const card = allCards.find(c => c.__backendId === cardId);
            
            if (!card) {
                showToast('البطاقة غير موجودة', 'error');
                updateBtn.disabled = false;
                updateBtn.textContent = originalText;
                return;
            }

            card.title = document.getElementById('edit-card-title').value;
            card.description = document.getElementById('edit-card-description').value;
            card.icon = document.getElementById('edit-card-icon').value;
            card.value = document.getElementById('edit-card-value').value;

            const result = await window.dataSdk.update(card);
            
            if (result.isOk) {
                closeEditCardModal();
                showToast('تم تحديث البطاقة بنجاح', 'success');
            } else {
                showToast('حدث خطأ أثناء تحديث البطاقة', 'error');
            }
            
            updateBtn.disabled = false;
            updateBtn.textContent = originalText;
        }

        async function deleteCard(card) {
            const deleteBtn = event.target.closest('button');
            const originalHTML = deleteBtn.innerHTML;
            
            deleteBtn.disabled = true;
            deleteBtn.innerHTML = '<div class="loading-spinner mx-auto"></div>';

            const result = await window.dataSdk.delete(card);
            
            if (result.isOk) {
                showToast('تم حذف البطاقة بنجاح', 'success');
            } else {
                showToast('حدث خطأ أثناء حذف البطاقة', 'error');
                deleteBtn.disabled = false;
                deleteBtn.innerHTML = originalHTML;
            }
        }

        function renderServiceCards() {
            const container = document.getElementById('service-cards-section');
            if (!container) return;

            const config = window.elementSdk?.config || defaultConfig;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
            const bgColor = config.background_color || defaultConfig.background_color;

            const services = [
                {
                    title: 'خدمات الشركات',
                    icon: 'fa-building',
                    description: 'تأسيس الشركات، العقود التجارية، والاستشارات القانونية للشركات'
                },
                {
                    title: 'خدمات المستثمرين والأجانب',
                    icon: 'fa-globe',
                    description: 'تراخيص الاستثمار، الإقامات، والتأشيرات للمستثمرين الأجانب'
                },
                {
                    title: 'خدمات القطاع الصناعي',
                    icon: 'fa-industry',
                    description: 'التراخيص الصناعية، العقود، والاستشارات القانونية الصناعية'
                }
            ];

            container.innerHTML = services.map(service => `
                <div class="rounded-2xl shadow-2xl p-8 card-hover border border-gray-700 text-center relative" style="background-color: ${surfaceColor}; color: ${textColor};">
                    <div class="absolute top-4 left-4 flex gap-2">
                        <button class="w-8 h-8 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                            <i class="fas fa-edit text-sm"></i>
                        </button>
                        <button class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center justify-center shadow-md" title="حذف">
                            <i class="fas fa-trash text-sm text-white"></i>
                        </button>
                    </div>
                    <div class="w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center shadow-lg" style="background: ${primaryColor};">
                        <i class="fas ${service.icon} text-3xl" style="color: ${bgColor};"></i>
                    </div>
                    <h3 class="text-2xl font-bold" style="color: ${primaryColor};">${service.title}</h3>
                </div>
            `).join('');
        }

        function renderCasesTable() {
            const container = document.getElementById('cases-table-container');
            if (!container) return;

            const config = window.elementSdk?.config || defaultConfig;
            const bgColor = config.background_color || defaultConfig.background_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
            const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;

            container.innerHTML = `
                <div class="bg-gray-800 rounded-xl shadow-2xl overflow-hidden border border-gray-700" style="background-color: ${surfaceColor}; color: ${textColor};">
                    <!-- Card Header -->
                    <div class="p-6 border-b border-gray-700" style="background: linear-gradient(135deg, ${surfaceColor} 0%, ${bgColor} 100%);">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-4">
                                <div class="w-12 h-12 rounded-xl flex items-center justify-center shadow-lg" style="background: ${primaryColor};">
                                    <i class="fas fa-gavel text-xl" style="color: ${bgColor};"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold" style="color: ${primaryColor};">جدول القضايا</h3>
                                    <p class="text-sm opacity-75 mt-1">إدارة ومتابعة جميع القضايا</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons Bar -->
                    <div class="p-6 border-b border-gray-700 flex items-center justify-between flex-wrap gap-4">
                        <div class="flex gap-3">
                            <button class="px-6 py-3 rounded-xl font-semibold transition hover:opacity-90 shadow-lg flex items-center" style="background: ${primaryColor}; color: ${bgColor};">
                                <i class="fas fa-plus ml-2"></i>
                                <span>إضافة قضية جديدة</span>
                            </button>
                            <button class="px-6 py-3 rounded-xl font-semibold transition hover:opacity-90 shadow-lg flex items-center" style="background: ${secondaryColor}; color: white;">
                                <i class="fas fa-file-excel ml-2"></i>
                                <span>تصدير Excel</span>
                            </button>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="relative">
                                <input type="text" placeholder="بحث في القضايا..." 
                                       class="bg-gray-700 text-gray-100 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 transition" 
                                       style="border: 1px solid ${primaryColor}40;">
                                <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                            </div>
                            <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                <i class="fas fa-filter"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Table Container -->
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b-2" style="border-color: ${primaryColor}40; background: ${bgColor};">
                                    <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-user text-xs"></i>
                                            <span>اسم العميل</span>
                                        </div>
                                    </th>
                                    <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-hashtag text-xs"></i>
                                            <span>رقم القضية</span>
                                        </div>
                                    </th>
                                    <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-calendar text-xs"></i>
                                            <span>تاريخ الجلسة</span>
                                        </div>
                                    </th>
                                    <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-cog text-xs"></i>
                                            <span>الحالة</span>
                                        </div>
                                    </th>
                                    <th class="text-center py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                        <div class="flex items-center justify-center gap-2">
                                            <i class="fas fa-tools text-xs"></i>
                                            <span>الإجراءات</span>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                أم
                                            </div>
                                            <div>
                                                <div class="font-semibold">أحمد محمد السعيد</div>
                                                <div class="text-xs opacity-60">ahmed@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                            2024-001
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                            <span>2024-01-15</span>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-full text-xs font-bold" style="background: ${secondaryColor}; color: white;">
                                            <i class="fas fa-check-circle ml-1"></i>نشطة
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center justify-center gap-2">
                                            <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                <i class="fas fa-eye text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                <i class="fas fa-edit text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                <i class="fas fa-trash text-sm"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                فح
                                            </div>
                                            <div>
                                                <div class="font-semibold">فاطمة علي حسن</div>
                                                <div class="text-xs opacity-60">fatima@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                            2024-002
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                            <span>2024-01-20</span>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-full text-xs font-bold bg-yellow-600" style="color: white;">
                                            <i class="fas fa-clock ml-1"></i>قيد المراجعة
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center justify-center gap-2">
                                            <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                <i class="fas fa-eye text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                <i class="fas fa-edit text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                <i class="fas fa-trash text-sm"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                مع
                                            </div>
                                            <div>
                                                <div class="font-semibold">محمود خالد عبدالله</div>
                                                <div class="text-xs opacity-60">mahmoud@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                            2024-003
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                            <span>2024-01-25</span>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-full text-xs font-bold" style="background: ${secondaryColor}; color: white;">
                                            <i class="fas fa-check-circle ml-1"></i>نشطة
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center justify-center gap-2">
                                            <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                <i class="fas fa-eye text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                <i class="fas fa-edit text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                <i class="fas fa-trash text-sm"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                سم
                                            </div>
                                            <div>
                                                <div class="font-semibold">سارة محمد أحمد</div>
                                                <div class="text-xs opacity-60">sara@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                            2024-004
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                            <span>2024-02-01</span>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-full text-xs font-bold bg-purple-600" style="color: white;">
                                            <i class="fas fa-hourglass-half ml-1"></i>معلقة
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center justify-center gap-2">
                                            <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                <i class="fas fa-eye text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                <i class="fas fa-edit text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                <i class="fas fa-trash text-sm"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="table-row hover:shadow-md transition-all">
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                يع
                                            </div>
                                            <div>
                                                <div class="font-semibold">يوسف عبدالرحمن</div>
                                                <div class="text-xs opacity-60">youssef@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                            2024-005
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center gap-2">
                                            <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                            <span>2024-02-05</span>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6">
                                        <span class="px-3 py-1 rounded-full text-xs font-bold" style="background: ${secondaryColor}; color: white;">
                                            <i class="fas fa-check-circle ml-1"></i>نشطة
                                        </span>
                                    </td>
                                    <td class="py-4 px-6">
                                        <div class="flex items-center justify-center gap-2">
                                            <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                <i class="fas fa-eye text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                <i class="fas fa-edit text-sm"></i>
                                            </button>
                                            <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                <i class="fas fa-trash text-sm"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Table Footer with Pagination -->
                    <div class="p-6 border-t border-gray-700 flex items-center justify-between flex-wrap gap-4">
                        <div class="text-sm opacity-75">
                            عرض <span class="font-bold" style="color: ${primaryColor};">1-5</span> من <span class="font-bold" style="color: ${primaryColor};">5</span> قضية
                        </div>
                        <div class="flex gap-2">
                            <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition disabled:opacity-50" disabled>
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            <button class="px-4 py-2 rounded-lg font-semibold transition" style="background: ${primaryColor}; color: ${bgColor};">
                                1
                            </button>
                            <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                2
                            </button>
                            <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                3
                            </button>
                            <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCards() {
            const containers = {
                'home-header1': document.getElementById('home-header1-cards'),
                'home-header2': document.getElementById('home-header2-cards'),
                'home-header3': document.getElementById('home-header3-cards'),
                'services': document.getElementById('services-cards'),
                'posts': document.getElementById('posts-cards')
            };

            Object.values(containers).forEach(container => {
                if (container) container.innerHTML = '';
            });

            allCards.forEach(card => {
                let containerId = '';
                if (card.page === 'home') {
                    containerId = `home-${card.type}`;
                } else {
                    containerId = card.page;
                }

                const container = containers[containerId];
                if (!container) return;

                const config = window.elementSdk?.config || defaultConfig;
                const bgColor = config.background_color || defaultConfig.background_color;
                const surfaceColor = config.surface_color || defaultConfig.surface_color;
                const textColor = config.text_color || defaultConfig.text_color;
                const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;

                // Regular card rendering
                if (card.page !== 'cases') {
                    const cardEl = document.createElement('div');
                    cardEl.className = 'bg-gray-800 rounded-xl shadow-2xl overflow-hidden border border-gray-700';
                    cardEl.style.backgroundColor = surfaceColor;
                    cardEl.style.color = textColor;

                    cardEl.innerHTML = `
                        <!-- Card Header -->
                        <div class="p-6 border-b border-gray-700" style="background: linear-gradient(135deg, ${surfaceColor} 0%, ${bgColor} 100%);">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-12 rounded-xl flex items-center justify-center shadow-lg" style="background: ${primaryColor};">
                                        <i class="fas ${card.icon} text-xl" style="color: ${bgColor};"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-2xl font-bold" style="color: ${primaryColor};">${card.title}</h3>
                                        <p class="text-sm opacity-75 mt-1">${card.description}</p>
                                    </div>
                                </div>
                                <div class="flex gap-2">
                                    <button onclick='showEditCardModal(${JSON.stringify(card).replace(/'/g, "\\'")})'
                                            class="px-4 py-2 rounded-lg font-semibold transition hover:opacity-80 shadow-md" style="background: ${primaryColor}; color: ${bgColor};">
                                        <i class="fas fa-edit ml-2"></i>تعديل البطاقة
                                    </button>
                                    <button onclick='deleteCard(${JSON.stringify(card).replace(/'/g, "\\'")})'
                                            class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition shadow-md">
                                        <i class="fas fa-trash ml-2"></i>حذف البطاقة
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Action Buttons Bar -->
                        <div class="p-6 border-b border-gray-700 flex items-center justify-between flex-wrap gap-4">
                            <div class="flex gap-3">
                                <button class="px-6 py-3 rounded-xl font-semibold transition hover:opacity-90 shadow-lg flex items-center" style="background: ${primaryColor}; color: ${bgColor};">
                                    <i class="fas fa-plus ml-2"></i>
                                    <span>إضافة قضية جديدة</span>
                                </button>
                                <button class="px-6 py-3 rounded-xl font-semibold transition hover:opacity-90 shadow-lg flex items-center" style="background: ${secondaryColor}; color: white;">
                                    <i class="fas fa-file-excel ml-2"></i>
                                    <span>تصدير Excel</span>
                                </button>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="relative">
                                    <input type="text" placeholder="بحث في القضايا..." 
                                           class="bg-gray-700 text-gray-100 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 transition" 
                                           style="border: 1px solid ${primaryColor}40;">
                                    <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                                </div>
                                <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                    <i class="fas fa-filter"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Table Container -->
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b-2" style="border-color: ${primaryColor}40; background: ${bgColor};">
                                        <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-user text-xs"></i>
                                                <span>اسم العميل</span>
                                            </div>
                                        </th>
                                        <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-hashtag text-xs"></i>
                                                <span>رقم القضية</span>
                                            </div>
                                        </th>
                                        <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-calendar text-xs"></i>
                                                <span>تاريخ الجلسة</span>
                                            </div>
                                        </th>
                                        <th class="text-right py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-cog text-xs"></i>
                                                <span>الحالة</span>
                                            </div>
                                        </th>
                                        <th class="text-center py-4 px-6 font-bold text-sm uppercase tracking-wider" style="color: ${primaryColor};">
                                            <div class="flex items-center justify-center gap-2">
                                                <i class="fas fa-tools text-xs"></i>
                                                <span>الإجراءات</span>
                                            </div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                    أم
                                                </div>
                                                <div>
                                                    <div class="font-semibold">أحمد محمد السعيد</div>
                                                    <div class="text-xs opacity-60">ahmed@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                                2024-001
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                                <span>2024-01-15</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-full text-xs font-bold" style="background: ${secondaryColor}; color: white;">
                                                <i class="fas fa-check-circle ml-1"></i>نشطة
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center justify-center gap-2">
                                                <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                    <i class="fas fa-eye text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                    <i class="fas fa-edit text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                    <i class="fas fa-trash text-sm"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                    فح
                                                </div>
                                                <div>
                                                    <div class="font-semibold">فاطمة علي حسن</div>
                                                    <div class="text-xs opacity-60">fatima@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                                2024-002
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                                <span>2024-01-20</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-full text-xs font-bold bg-yellow-600" style="color: white;">
                                                <i class="fas fa-clock ml-1"></i>قيد المراجعة
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center justify-center gap-2">
                                                <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                    <i class="fas fa-eye text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                    <i class="fas fa-edit text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                    <i class="fas fa-trash text-sm"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                    مع
                                                </div>
                                                <div>
                                                    <div class="font-semibold">محمود خالد عبدالله</div>
                                                    <div class="text-xs opacity-60">mahmoud@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                                2024-003
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                                <span>2024-01-25</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-full text-xs font-bold" style="background: ${secondaryColor}; color: white;">
                                                <i class="fas fa-check-circle ml-1"></i>نشطة
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center justify-center gap-2">
                                                <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                    <i class="fas fa-eye text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                    <i class="fas fa-edit text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                    <i class="fas fa-trash text-sm"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="table-row border-b border-gray-700 hover:shadow-md transition-all">
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                    سم
                                                </div>
                                                <div>
                                                    <div class="font-semibold">سارة محمد أحمد</div>
                                                    <div class="text-xs opacity-60">sara@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                                2024-004
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                                <span>2024-02-01</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-full text-xs font-bold bg-purple-600" style="color: white;">
                                                <i class="fas fa-hourglass-half ml-1"></i>معلقة
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center justify-center gap-2">
                                                <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                    <i class="fas fa-eye text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                    <i class="fas fa-edit text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                    <i class="fas fa-trash text-sm"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="table-row hover:shadow-md transition-all">
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold" style="background: ${primaryColor}30; color: ${primaryColor};">
                                                    يع
                                                </div>
                                                <div>
                                                    <div class="font-semibold">يوسف عبدالرحمن</div>
                                                    <div class="text-xs opacity-60">youssef@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-lg font-mono font-semibold text-sm" style="background: ${primaryColor}20; color: ${primaryColor};">
                                                2024-005
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center gap-2">
                                                <i class="fas fa-calendar-day text-sm opacity-60"></i>
                                                <span>2024-02-05</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6">
                                            <span class="px-3 py-1 rounded-full text-xs font-bold" style="background: ${secondaryColor}; color: white;">
                                                <i class="fas fa-check-circle ml-1"></i>نشطة
                                            </span>
                                        </td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center justify-center gap-2">
                                                <button class="w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 transition flex items-center justify-center shadow-md" title="عرض">
                                                    <i class="fas fa-eye text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg transition flex items-center justify-center shadow-md hover:opacity-80" style="background: ${primaryColor}; color: ${bgColor};" title="تعديل">
                                                    <i class="fas fa-edit text-sm"></i>
                                                </button>
                                                <button class="w-9 h-9 rounded-lg bg-red-600 hover:bg-red-700 transition flex items-center justify-center shadow-md" title="حذف">
                                                    <i class="fas fa-trash text-sm"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Table Footer with Pagination -->
                        <div class="p-6 border-t border-gray-700 flex items-center justify-between flex-wrap gap-4">
                            <div class="text-sm opacity-75">
                                عرض <span class="font-bold" style="color: ${primaryColor};">1-5</span> من <span class="font-bold" style="color: ${primaryColor};">5</span> قضية
                            </div>
                            <div class="flex gap-2">
                                <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition disabled:opacity-50" disabled>
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                                <button class="px-4 py-2 rounded-lg font-semibold transition" style="background: ${primaryColor}; color: ${bgColor};">
                                    1
                                </button>
                                <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                    2
                                </button>
                                <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                    3
                                </button>
                                <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                            </div>
                        </div>
                    `;

                    container.appendChild(cardEl);
                } else {
                    // Regular card rendering for other pages
                    const cardEl = document.createElement('div');
                    cardEl.className = 'bg-gray-800 rounded-lg shadow-xl p-6 card-hover border border-gray-700';
                    
                    cardEl.style.backgroundColor = surfaceColor;
                    cardEl.style.color = textColor;

                    cardEl.innerHTML = `
                        <div class="flex items-start justify-between mb-4">
                            <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background: ${primaryColor};">
                                <i class="fas ${card.icon} text-xl" style="color: ${bgColor};"></i>
                            </div>
                            <div class="flex gap-2">
                                <button onclick='showEditCardModal(${JSON.stringify(card).replace(/'/g, "\\'")})'
                                        class="p-2 hover:bg-gray-700 rounded transition">
                                    <i class="fas fa-edit" style="color: ${primaryColor};"></i>
                                </button>
                                <button onclick='deleteCard(${JSON.stringify(card).replace(/'/g, "\\'")})'
                                        class="p-2 hover:bg-gray-700 rounded transition">
                                    <i class="fas fa-trash text-red-400"></i>
                                </button>
                            </div>
                        </div>
                        ${card.value ? `<div class="text-3xl font-bold mb-2" style="color: ${primaryColor};">${card.value}</div>` : ''}
                        <h3 class="text-lg font-semibold mb-2">${card.title}</h3>
                        <p class="text-sm opacity-75">${card.description}</p>
                    `;

                    container.appendChild(cardEl);
                }
            });
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `fixed top-20 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-lg z-50 ${
                type === 'success' ? 'bg-green-600' : 'bg-red-600'
            } text-white font-semibold`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transition = 'opacity 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Data SDK Handler
        const dataHandler = {
            onDataChanged(data) {
                allCards = data;
                renderCards();
                renderCasesTable();
                renderServiceCards();
            }
        };

        // Element SDK Implementation
        async function onConfigChange(config) {
            document.getElementById('firm-name').textContent = config.firm_name || defaultConfig.firm_name;
            document.getElementById('quote-text').textContent = config.quote_text || defaultConfig.quote_text;

            const bgColor = config.background_color || defaultConfig.background_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
            const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
            const fontFamily = config.font_family || defaultConfig.font_family;
            const fontSize = config.font_size || defaultConfig.font_size;

            document.body.style.backgroundColor = bgColor;
            document.body.style.color = textColor;
            document.body.style.fontFamily = `${fontFamily}, Cairo, sans-serif`;
            document.body.style.fontSize = `${fontSize}px`;

            document.querySelectorAll('.bg-gray-900').forEach(el => el.style.backgroundColor = bgColor);
            document.querySelectorAll('.bg-gray-800').forEach(el => el.style.backgroundColor = surfaceColor);
            document.querySelectorAll('.text-yellow-500, .text-yellow-600').forEach(el => el.style.color = primaryColor);
            document.querySelectorAll('.bg-yellow-600').forEach(el => el.style.backgroundColor = primaryColor);
            document.querySelectorAll('.bg-green-600').forEach(el => el.style.backgroundColor = secondaryColor);

            document.querySelectorAll('h1, h2, h3').forEach(el => {
                el.style.fontSize = `${fontSize * 1.5}px`;
            });
            document.querySelectorAll('p, span, td, th, input, textarea, button').forEach(el => {
                el.style.fontSize = `${fontSize}px`;
            });

            renderCards();
            renderCasesTable();
            renderServiceCards();
        }

        // Initialize SDKs
        (async () => {
            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    console.error('Failed to initialize Data SDK');
                }
            }

            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities: (config) => ({
                        recolorables: [
                            {
                                get: () => config.background_color || defaultConfig.background_color,
                                set: (value) => {
                                    config.background_color = value;
                                    window.elementSdk.setConfig({ background_color: value });
                                }
                            },
                            {
                                get: () => config.surface_color || defaultConfig.surface_color,
                                set: (value) => {
                                    config.surface_color = value;
                                    window.elementSdk.setConfig({ surface_color: value });
                                }
                            },
                            {
                                get: () => config.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    config.text_color = value;
                                    window.elementSdk.setConfig({ text_color: value });
                                }
                            },
                            {
                                get: () => config.primary_action_color || defaultConfig.primary_action_color,
                                set: (value) => {
                                    config.primary_action_color = value;
                                    window.elementSdk.setConfig({ primary_action_color: value });
                                }
                            },
                            {
                                get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                                set: (value) => {
                                    config.secondary_action_color = value;
                                    window.elementSdk.setConfig({ secondary_action_color: value });
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: {
                            get: () => config.font_family || defaultConfig.font_family,
                            set: (value) => {
                                config.font_family = value;
                                window.elementSdk.setConfig({ font_family: value });
                            }
                        },
                        fontSizeable: {
                            get: () => config.font_size || defaultConfig.font_size,
                            set: (value) => {
                                config.font_size = value;
                                window.elementSdk.setConfig({ font_size: value });
                            }
                        }
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ['firm_name', config.firm_name || defaultConfig.firm_name],
                        ['quote_text', config.quote_text || defaultConfig.quote_text],
                        ['add_case_button', config.add_case_button || defaultConfig.add_case_button],
                        ['export_button', config.export_button || defaultConfig.export_button]
                    ])
                });
            }
        })();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99adf4763677e221',t:'MTc2MjUzMDI5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>